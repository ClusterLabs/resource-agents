.TH fence_apc 8

.SH NAME
fence_apc - I/O Fencing agent for APC MasterSwitch

.SH SYNOPSIS
.B 
fence_apc
[\fIOPTION\fR]...

.SH DESCRIPTION
fence_apc is an I/O Fencing agent which can be used with the APC MasterSwitch
network power switch.  It logs into a MasterSwitch via telnet and reboots
a specified outlet.  Lengthy telnet connections to the MasterSwitch should
be avoided while a GFS cluster is running because the connection will
block any necessary fencing actions.

fence_apc accepts options on the command line as well as from stdin.  
Fenced sends parameters through stdin when it execs the agent.  fence_apc 
can be run by itself with command line options.  This is useful for testing 
and for turning outlets on or off from scripts.

.SH OPTIONS
.TP
\fB-a\fP \fIIPaddress\fR
IP address or hostname of the switch.
.TP
\fB-h\fP 
Print out a help message describing available options, then exit.
.TP
\fB-l\fP \fIlogin\fR
Login name.
.TP
\fB-n\fP \fI[<switch>:]outlet\fR
The outlet number to act upon.  
.TP
\fB-o\fP \fIaction\fR
The action required.  Reboot (default), Off or On.
.TP
\fB-p\fP \fIpassword\fR
Password for login.
.TP
\fB-S\fP \fIpath\fR
Full path to an executable to generate the password for login.
.TP
\fB-T\fP
Test only.  Answer NO to the confirmation prompt instead of YES.
.TP
\fB-v\fP
Verbose.  Record telnet session in /tmp/apclog.
.TP
\fB-V\fP
Print out a version message, then exit.

.SH STDIN PARAMETERS
.TP
\fIagent = < param >\fR
This option is used by fence_node(8) and is ignored by fence_apc.
.TP
\fIipaddr = < hostname | ip >\fR
IP address or hostname of the switch.
.TP
\fIlogin = < param >\fR
Login name.
.TP
\fIoption = < param >\fR
The action required.  Reboot (default), Off or On.
.TP
\fIpasswd = < param >\fR
Password for login.
.TP
\fIpasswd_script = < param >\fR
Full path to an executable to generate the password for login.
.TP
\fIport = < param >\fR
The outlet number to act upon.
.TP
\fIswitch = < param >\fR
The switch to operate on.  Defaults to "1" if not specified.
.TP
\fItest = < param >\fR
Test only.  Answer NO to the confirmation prompt instead of YES.
.TP
\fIverbose = < param >\fR
Verbose.  Record telnet session in /tmp/apclog.

.SH SEE ALSO
fence(8), fence_node(8)
