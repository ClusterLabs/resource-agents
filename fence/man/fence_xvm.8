.TH fence_xvm 8

.SH NAME
fence_xvm - I/O Fencing agent for Xen virtual machines.

.SH SYNOPSIS
.B
fence_xvm
[\fIOPTION\fR]...

.SH DESCRIPTION
fence_xvm is an I/O Fencing agent which can be used with Xen virtual machines
which are part of a cluster.  There is a requirement that the parent 
domain-0s are also a part of a CMAN/OpenAIS based cluster, such as
linux-cluster.

fence_xvm accepts options on the command line as well as from standard input.  
If no command line options are present, fence_xvm will automatically use
standard input.  fenced sends the options through stdin when it execs the
agent.  fence_xvm can be run by itself with command line options which is
useful for testing.

.SH OPTIONS
.TP
\fB-d\fP
Enable debugging output.  The more times you specify this parameter,
the more debugging output you will receive.
.TP
\fB-i\fP \fIfamily\fP
IP family to use (auto, ipv4, or ipv6; default = auto)
.TP
\fB-a\fP \fIaddress\fP
Multicast address to use (default=225.0.0.12 for ipv4, ff02::3:1 for ipv6)
.TP
\fB-p\fP \fIport\fP
Port to use for all communications; must match fence_xvmd (default=1229)
.TP
\fB-r\fP \fIretrans\fP
Multicast retransmission time (in 1/10 seconds; default=20).  This
is used to tune the amount of retransmission which is done on busy networks
where multicast traffic is unreliable.
.TP
\fB-C\fP \fIauth\fP
Authentication type (none, sha1, sha256, sha512; default=sha256).  This
controls the authentication mechanism used to authenticate clients.  The
three SHA hashes use a key which must be shared between both the Xen virtual
machines and the host domain-0 cluster.  The three SHA authentication 
mechanisms use a simple bidirectional challenge-response based on pseudo-
random number generation and a shared private key.
.TP
\fB-c\fP \fIhash\fP
Packet hash type (none, sha1, sha256, sha512; default=sha256).  This
controls the hashing mechanism used to authenticate fencing requests.  The
three SHA hashes use a key which must be shared between both the Xen virtual
machines and the host domain-0 cluster.
.TP
\fB-k\fP \fIkey_file\fP
Use the specified key file for packet hashing / SHA authentication.
When both the hash type and the authentication type are set to "none",
this parameter is ignored.
.TP
\fB-H\fP \fIdomain\fP
This specifies unique domain name of the Xen guest which needs to be fenced.
.TP
\fB-u\fP
Fence by UUID instead of Xen Domain name.  If specified, the above -H
parameter should be the statically-defined 36-character UUID of the Xen
domain rather than its human-readable name.
.TP
\fB-o\fP \fIoperation\fP
Fencing operation to perform (null, off, reboot; default=off).  This specifies
the fencing operation to perform.  The null operation does not actually do
anything, but allows you to check to see if communication with fence_xvmd
is working correctly (note: the result of the null operation is *always*
failure!).
.TP
\fB-t\fP \fItimeout\fP
This specifies the amount of time, in seconds, to wait before a response to
the multicast request before giving up (default=30).
.TP
\fB-?\fP
Print out a help message describing available options, then exit.
.TP
\fB-h\fP
Print out a help message describing available options, then exit.
.TP
\fB-V\fP
Print out a version message, then exit.

.SH STDIN PARAMETERS
.TP
\fIdebug = 1\fR
Same as the -d option.  Specify numbers >1 for more debugging information.
.TP
\fIfamily = < param >\fR
Same as the -i option.
.TP
\fImulticast_address = < param >\fR
Same as the -a option.
.TP
\fIport = < param >\fR
Same as the -p option.
.TP
\fIretrans = < param >\fR
Same as the -r option.
.TP
\fIauth = < param >\fR
Same as the -C option.
.TP
\fIhash = < param >\fR
Same as the -c option.
.TP
\fIkey_file = < param >\fR
Same as the -k option.
.TP
\fIretrans = < param >\fR
Same as the -r option.
.TP
\fIdomain = < param >\fR
Same as the -H option.
.TP
\fIuse_uuid = 1\fR
Same as the -u option.
.TP
\fIoption = < param >\fR
Same as the -o option.
.TP
\fItimeout = < param >\fR
Same as the -t option.
.TP
\fIdomain = < param >\fR
Same as the -H option.

.SH SEE ALSO
fence(8), fence_node(8), fence_xvmd(8)
